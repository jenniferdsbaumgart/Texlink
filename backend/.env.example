# ===========================================
# TEXLINK BACKEND - Environment Configuration
# ===========================================
# Copy this file to .env and fill in the values
# NEVER commit .env to version control

# ===========================================
# REQUIRED - Application will fail without these
# ===========================================

# Database (PostgreSQL)
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA
DATABASE_URL="postgresql://username:password@localhost:5432/texlink?schema=public"

# JWT Authentication
# IMPORTANT: Generate a strong random secret for production (min 32 characters)
# Use: openssl rand -base64 32
JWT_SECRET="E9dOo4OljPlgpyWVMNsBfe9Ge8c+jMPRNUIhWQZwp+uyuy+oVG/YiwLgK2GTW6Er9TXLcb3UMQCOCQM49WJkow=="
JWT_EXPIRATION="1h"
JWT_REFRESH_EXPIRATION="30d"

# ===========================================
# APPLICATION
# ===========================================

PORT=3000
NODE_ENV=development

# CORS - Comma-separated list of allowed origins
# Example: https://app.texlink.com.br,https://admin.texlink.com.br
CORS_ORIGINS=http://localhost:5173,http://localhost:3001

# ===========================================
# OPTIONAL - Redis (for rate limiting and caching)
# ===========================================
# If not provided, in-memory fallback will be used (not recommended for production)
REDIS_URL=redis://localhost:6379

# ===========================================
# INTEGRATIONS - External Services
# ===========================================

# CNPJ Validation (ReceitaWS)
RECEITAWS_URL=https://receitaws.com.br/v1/cnpj
RECEITAWS_API_KEY=

# Email (SendGrid)
SENDGRID_API_KEY=
SENDGRID_FROM_EMAIL=noreply@texlink.com.br
SENDGRID_FROM_NAME=Texlink

# SendGrid Webhook Security
# IMPORTANT: Enable in production
SENDGRID_WEBHOOK_SIGNATURE_VALIDATION=true
SENDGRID_WEBHOOK_PUBLIC_KEY=

# WhatsApp (Twilio)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_WHATSAPP_FROM=whatsapp:+14155238886
TWILIO_STATUS_CALLBACK=

# Twilio Webhook Security
# IMPORTANT: Enable in production
TWILIO_WEBHOOK_SIGNATURE_VALIDATION=true

# Credit Analysis (Serasa - future integration)
SERASA_API_URL=
SERASA_API_KEY=
SERASA_API_SECRET=

# ===========================================
# MONITORING (Optional)
# ===========================================

# Sentry Error Tracking
SENTRY_DSN=

# Log Level (error, warn, log, debug, verbose)
LOG_LEVEL=log

# ===========================================
# RAILWAY DEPLOYMENT
# ===========================================
# When deploying to Railway, use variable references:
#
# DATABASE_URL=${{Postgres.DATABASE_URL}}
# REDIS_URL=${{Redis.REDIS_URL}}
#
# Railway automatically injects PORT, don't set it manually
